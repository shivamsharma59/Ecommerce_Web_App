<%- include('./partials/header') %>
<main>
    <h1>Admin Dashboard</h1>

    <!-- Add Product Form -->
    <section id="add-product">
        <h2>Add New Product</h2>
        <form id="add-product-form" enctype="multipart/form-data">
            <label for="productName">Product Name:</label>
            <input type="text" id="productName" name="productName" required>

            <label for="price">Price:</label>
            <input type="number" id="price" name="price" step="0.01" required>

            <label for="imageUrl">Image:</label>
            <input type="file" id="imageUrl" name="imageUrl" accept="image/*" required>

            <label for="stock">Stock Quantity:</label> <!-- New field for stock -->
            <input type="number" id="stock" name="stock" min="0" required>

            <button type="submit">Add Product</button>
        </form>
    </section>

    <!-- Existing Products List -->
    <section id="product-list">
        <h2>Existing Products</h2>
        <ul id="product-list-container">
            <% products.forEach(product => { %>
                <li data-id="<%= product._id %>" class="">
                    <img src="<%= product.imageUrl %>" alt="<%= product.productName %>" width="100">
                    <span>
                        <%= product.productName %> - $<%= product.price %> - Stock: <%= product.stock %> <!-- Display stock -->
                    </span>
                    <button class="delete-btn" onclick="deleteProduct('<%= product._id %>')">Delete</button>
                </li>
            <% }) %>    
        </ul>
    </section>
</main>
<%- include('./partials/footer') %>
<script src="/scripts/admin.js"></script>
